<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
    <%
	String contextPath = request.getContextPath();
%>
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>dressroom</title>
<link rel="stylesheet" href="/SMF_Project/resources/dressroom/css/dressroomMain.css">
</head>
<body>
<%-- <jsp:include page="/views/common/menubar_sun.jsp" /> --%>
	<section id="main">

		<div class="container">
			<section id="leftbox" class="leftbox">
				<!-- 여러 이미지가 동시에 존재할 수 있도록 수정 -->
			</section>
		</div>

		<section id="itemListbox">
			<button id="backButton">뒤로 가기</button>
		  <section id="itemListboxList">
			<section class="container2">
				<div class="rightbox" id="rightbox1">
					<input type="hidden" name="" value="캐리어">
					<img id="img1" class="itemObject"
						src="/SMF_Project/resources/dressroom/image/AMI de Coeur Oversize Intarsia Sweater Black Red_1.png">
				</div>
				<div class="rightbox" id="rightbox1">
					<input type="hidden" name="" value="스니커즈">
					<img id="img2" class="itemObject"
						src="/SMF_Project/resources/dressroom/image/Stussy Basic Stussy Hoodie Ash Heather 2023_1.png">
				</div>
				<div class="rightbox" id="rightbox1">
					<img id="img3" class="itemObject"
						src="/SMF_Project/resources/dressroom/image/Ader Error x Zara Patchwork Oversize Knit Sweater Multicolor_1.png">
				</div>
				<div class="rightbox" id="rightbox1">
					<img id="img4" class="itemObject"
						src="/SMF_Project/resources/dressroom/image/Wooyoungmi Cotton Back Logo Hooded Sweatshirt Black _ 23SS_2.png">
				</div>
				<div class="rightbox" id="rightbox1">
					<img id="img5" class="itemObject"
						src="/SMF_Project/resources/dressroom/image/Nike x Stussy NRG Washed Fleece Crewneck Black _DO5310_010__1.png">
				</div>
			</section>

			<section class="container3">
				<div class="rightbox" id="rightbox6">
					<img id="img6" class="itemObject"
						src="/SMF_Project/resources/dressroom/image/Ader Error x Zara Jogger Pants Black_2.png">
				</div>
				<div class="rightbox" id="rightbox6">
					<img id="img7" class="itemObject"
						src="/SMF_Project/resources/dressroom/image/Ader Error x Zara Patchwork Jeans Blue_1.png">
				</div>
				<div class="rightbox" id="rightbox6">
					<img id="img8" class="itemObject"
						src="/SMF_Project/resources/dressroom/image/Sansan Gear Side Snap Pants Black_1.png">
				</div>
				<div class="rightbox" id="rightbox6">
					<img id="img9" class="itemObject"
						src="/SMF_Project/resources/dressroom/image/Stussy Worldwide Big OL_ Jeans Black_2.png">
				</div>
				<div class="rightbox" id="rightbox6">
					<img id="img10" class="itemObject"
						src="/SMF_Project/resources/dressroom/image/Stussy x Levi_s Embossed 501 Jean Indigo_1.png">
				</div>
			</section>

			<section class="container4">
				<div class="rightbox" id="rightbox11">
					<img id="img11" class="itemObject"
						src="/SMF_Project/resources/dressroom/image/_W_ Adidas Gazelle Bold Core Black Cloud White_1.png">
				</div>
				<div class="rightbox" id="rightbox11">
					<img id="img12" class="itemObject"
						src="/SMF_Project/resources/dressroom/image/_W_ Adidas Gazelle Bold Pink Glow Victory Blue_1.png">
				</div>
				<div class="rightbox" id="rightbox11">
					<img id="img13" class="itemObject"
						src="/SMF_Project/resources/dressroom/image/_W_ Adidas Gazelle Indoor Blue Fusion Cloud White_1.png">
				</div>
				<div class="rightbox" id="rightbox11">
					<img id="img14" class="itemObject"
						src="/SMF_Project/resources/dressroom/image/_W_ Asics Gel_Kayano 14 White Midnight_1.png">
				</div>
				<div class="rightbox" id="rightbox11">
					<img id="img15" class="itemObject"
						src="/SMF_Project/resources/dressroom/image/_W_ Jordan 1 Elevate Low SE Lucky Green_1.png">
				</div>
			</section>

			<section class="container5">
				<div class="rightbox" id="rightbox3">
					<img id="img16" class="itemObject"
						src="/SMF_Project/resources/dressroom/image/a_06d8d76be64048a39b4255222a3314ca.png">
				</div>
				<div class="rightbox" id="rightbox3">
					<img id="img17" class="itemObject"
						src="/SMF_Project/resources/dressroom/image/a_8fd392fd41c4426ebb977de3ed0ee946.png">
				</div>
				<div class="rightbox" id="rightbox3">
					<img id="img18" class="itemObject"
						src="/SMF_Project/resources/dressroom/image/a_a3aabc04d91b4aa28a3dd83e47d054c8.png">
				</div>
				<div class="rightbox" id="rightbox3">
					<img id="img19" class="itemObject"
						src="/SMF_Project/resources/dressroom/image/a_b0a4fdd79800496a8e1e616e78347c35.png">
				</div>
				<div class="rightbox" id="rightbox3">
					<img id="img20" class="itemObject"
						src="/SMF_Project/resources/dressroom/image/a_d7fe191ec2d5401db8d3c02e6e0dcec9.png">
				</div>
			</section>

			<section class="container6">
				<div class="rightbox" id="rightbox4">
					<img id="img21" class="itemObject"
						src="/SMF_Project/resources/dressroom/image/a_17c729b6cd2040c6b4ea6d353783504f.png">
				</div>
				<div class="rightbox" id="rightbox4">
					<img id="img22" class="itemObject"
						src="/SMF_Project/resources/dressroom/image/a_53a387cb3059452eb8147f41475ed544.png">
				</div>
				<div class="rightbox" id="rightbox4">
					<img id="img23" class="itemObject"
						src="/SMF_Project/resources/dressroom/image/a_39433e2282614d2f8d05d313702a58a7.png">
				</div>
				<div class="rightbox" id="rightbox4">
					<img id="img24" class="itemObject"
						src="/SMF_Project/resources/dressroom/image/a_e06a1c4ad7434029b96b1895e7ad7185.png">
				</div>
				<div class="rightbox" id="rightbox4">
					<img id="img25" class="itemObject"
						src="/SMF_Project/resources/dressroom/image/a_f2e8d55347974d18a5ef5abecbb6a9a5 (1).png">
				</div>
			</section>

		</section>
		
	   </section>
	</section>

	<section id="selectbox">
    <div><h3>코디에 사용된 제품</h3></div>
    <div id="selectboxList">
    </div>
    
  </section>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script>
	 $(function(){
            var previousContent;

            // 클릭 이벤트 핸들러 등록 함수
            function listBackHandlers() {
                $(".rightbox").click(function(){
                    // Ajax 요청 이전의 내용을 저장
                    previousContent = $("#itemListboxList").html();

                    // Ajax 요청 보내기
                    var catName = $(this).children('input[type="hidden"]').val();
                    $.ajax({
                        url : "<%= contextPath %>/dressroomCategory.me",
                        type : "get",
                        data : {"categoryName" : catName},
                        dataType : "JSON",
                        success : function(data){
                            var str = '';
							str += '<section class="container2">' 
                            $(data).each(function(index, item){
								str += '<div class="rightboxSelectList" id="rightbox1">'
                                           +'<img id="img26" class="itemObject" src="/SMF_Project'+item.imgPath+item.imgName+'"/>'
                                       +'</div>'
								});
								str += '</section>';
                            // Ajax 요청 성공 시 처리
                            $("#itemListboxList").html(str);

                            // 뒤로 가기 버튼 보이기
                            $("#backButton").show();

                            // 다시 클릭 이벤트 핸들러 등록
                            listBackHandlers();
                            
                        }
                    });
                });
            }

            // 뒤로 가기 버튼 숨기기
            $("#backButton").hide();

            // 페이지 로딩 시 클릭 이벤트 핸들러 등록
            listBackHandlers();

            $("#backButton").click(function() {
                // 이전에 저장한 내용을 출력
                $("#itemListboxList").html(previousContent);

                // 뒤로 가기 버튼 숨기기
                $("#backButton").hide();

                // 다시 클릭 이벤트 핸들러 등록
                listBackHandlers();
            });
        });
	</script>


 <script src="/SMF_Project/resources/dressroom/javascript/dressroomMainJs.js"></script>
</body>
</html>